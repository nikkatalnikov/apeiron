<!DOCTYPE HTML>
<html>
	<head>
		<meta charset = "utf-8">
		<title></title>
	</head>
	<body>
		<h1>Hello</h1>
		<span id="one"></span>
		<span id="two"></span>
	</body>
	<script type="text/javascript" src="index.js"></script>
	<script>
	/*
		type Type = "HTTP" | "WS" | "COLLECTION"
		type Settings = (Endpoints, Config, Credentials) | Collection
		type Endpoints = [ HTTPEnd ] | WSEnd
		type HTTPEnd = {
			url: String,
			action: String
		}
		type WSEnd = {
			url: String
		}
		type Collection = [a]
	*/
	var credentials = {};
	
	var config = {
		baseURL: 'http://localhost:3000'
	};

	var endpoints = {
		removePost: {
			url: '/posts/:id',
			method: 'delete'
		},
		addPost: {
			url: '/posts',
			method: 'post'
		},
		getPosts: {
			url: '/posts',
			method: 'get'
		},
		getPost: {
			url: '/posts/:id',
			method: 'get'
		},
		editPost: {
			url: '/posts/:id',
			method: 'put'
		}
	}

	var DL = new Leap.StreamAPI('HTTP', {endpoints, config, credentials});
	DL.dataStream.subscribe(function(res) {
		console.log('Data Stream:');
		console.log(res.data);
	});
	DL.errorStream.subscribe(function(err) {
		console.log('Error Stream:');
		console.error(err);
	});
	</script>
</html>
